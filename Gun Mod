local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Locate the ModuleScript ONCE to save performance
local GunStatsModuleScript = ReplicatedStorage:WaitForChild("GunScripts"):WaitForChild("GunStats")

local mods = {
    -- SPEED & ACCURACY
    Spread = 0,
    prepTime = 0.01,
    equipTime = 0.01,
    MaxShots = math.huge,
    ReloadAnimationSpeed = 0.01,
    ReloadSpeed = 0.01,
    HipFireAccuracy = 0,
    ZoomAccuracy = 0,
    InstantFireAnimation = true,
    BulletSpeed = 5000,
    FireRate = 0,

    -- DAMAGE BYPASS
    Damage = 10,
    HeadshotMultiplier = 5000,
    BodyShotMultiplier = 5000,
    AmmoPerShot = 0
}

-- Main Enforcement Loop
while true do
    -- 'pcall' prevents the script from crashing if the module fails to load momentarily
    local success, gunStats = pcall(require, GunStatsModuleScript)

    if success and gunStats then
        for _, gun in pairs(gunStats) do
            for prop, value in pairs(mods) do
                -- Only write to memory if the value has actually changed
                if gun[prop] ~= value then
                    gun[prop] = value
                end
            end
        end
    end

    task.wait(0.1) -- Runs 10 times a second (Sufficient and efficient)
end
